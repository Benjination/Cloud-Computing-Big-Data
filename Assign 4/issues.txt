POTENTIAL ISSUES WITH EARTHQUAKE DATA VISUALIZATION PROJECT
================================================================

1. DATA STRUCTURE & FIRESTORE ORGANIZATION
   Problem: Each CSV row is stored as a separate Firestore document
   Impact: 
   - For large datasets (1000+ earthquakes), this creates many documents
   - May hit Firestore free tier limits (50k reads/day, 20k writes/day)
   - Could be slow to load all data at once
   Possible Solutions:
   - Implement pagination (load 100 records at a time)
   - Store data in batches (multiple rows per document)
   - Add data filtering before visualization
   - Consider Firebase Storage for raw CSV, Firestore for metadata only

2. NUMERIC VS STRING DATA PARSING
   Problem: CSV parser tries to auto-detect numbers, but may fail on edge cases
   Impact:
   - Mixed data types (e.g., "2.5" vs "N/A") might break charts
   - Dates/timestamps may be parsed incorrectly
   - Leading zeros might be lost (e.g., "00123" becomes 123)
   Possible Solutions:
   - Add data type specification UI (user selects column types)
   - Implement more robust parsing with try-catch
   - Add data validation/cleaning step after parsing
   - Show preview before upload to catch issues

3. PIE CHART WITH NUMERIC DATA
   Problem: Pie chart creates ranges for numeric data (Math.floor(value))
   Impact:
   - Magnitude 2.5, 2.6, 2.9 all become "2" - may not be what user wants
   - User has no control over binning strategy
   - Could create too many slices for continuous data
   Possible Solutions:
   - Add "bin size" selector for numeric categories
   - Provide binning options (by integer, by 0.5, by 1.0, etc.)
   - Warn user when selecting numeric column for pie chart
   - Suggest bar chart for numeric data instead

4. CORS ISSUES WITH FILE:// PROTOCOL
   Problem: Opening index.html directly from file system causes CORS errors
   Impact:
   - Firebase SDK may fail to load
   - External CDN resources might be blocked
   - App won't work without a web server
   Possible Solutions:
   - Document requirement for web server clearly
   - Add instructions for python -m http.server or npx http-server
   - Deploy to GitHub Pages immediately (already in repo)
   - Consider service worker for offline functionality

5. FIREBASE QUOTA LIMITS (FREE TIER)
   Problem: Free tier has usage limits
   Impact:
   - 50,000 document reads per day
   - 20,000 document writes per day
   - Each page load could use 100+ reads for moderate datasets
   - Multiple users/testing could exhaust quota quickly
   Possible Solutions:
   - Implement browser-side caching (already partially done)
   - Use localStorage to cache data between sessions
   - Add timestamp-based cache invalidation
   - Upgrade to Blaze plan if needed (pay-as-you-go)

6. CHART SIZE & RESPONSIVENESS
   Problem: Charts are set to maintainAspectRatio: true
   Impact:
   - On small screens, charts may be too small
   - On large screens, charts may be too large
   - Pie chart legend on right may cause horizontal scrolling on mobile
   Possible Solutions:
   - Add media queries to adjust chart height by screen size
   - Make legend position responsive (bottom on mobile, right on desktop)
   - Add max-height CSS constraints
   - Allow user to toggle fullscreen mode

7. NO DATA VALIDATION BEFORE CHART GENERATION
   Problem: App assumes data is valid for selected chart type
   Impact:
   - Scatter plot requires numeric data but doesn't check until generation
   - Empty/null values might create gaps or errors
   - Non-numeric Y-axis on bar chart causes averaging to fail
   Possible Solutions:
   - Add pre-check before enabling chart type
   - Show data type badges on dropdown options (ðŸ“Š numeric, ðŸ“ text)
   - Disable invalid combinations (e.g., scatter with text columns)
   - Show warning messages with suggestions

8. LARGE CSV FILE PERFORMANCE
   Problem: Entire CSV is read into memory at once
   Impact:
   - Files over 5-10MB may cause browser slowdown
   - Parsing blocks UI thread (no progress indicator)
   - Upload to Firebase happens all at once (no progress)
   Possible Solutions:
   - Add file size check (warn if > 5MB)
   - Stream large files using FileReader with chunks
   - Show upload progress bar
   - Implement batch uploads with progress feedback

9. NO ERROR RECOVERY FOR FIREBASE FAILURES
   Problem: If Firebase upload fails partway through, data is inconsistent
   Impact:
   - Some records uploaded, some not
   - User may need to manually clean Firestore
   - No rollback mechanism
   Possible Solutions:
   - Use Firestore batch writes (atomic operations)
   - Implement transaction-based uploads
   - Add "clear all data" button for fresh start
   - Store upload timestamp to identify partial uploads

10. CHART COLORS MAY NOT BE ACCESSIBLE
    Problem: Color choices may not work for colorblind users
    Impact:
    - Pie chart slices may be hard to distinguish
    - No patterns or textures, only colors
    - Low contrast on some colors
    Possible Solutions:
    - Use colorblind-friendly palettes (Viridis, ColorBrewer)
    - Add patterns/textures option for pie slices
    - Increase contrast ratios
    - Add accessibility settings toggle

11. NO AUTHENTICATION
    Problem: Firebase rules set to allow anyone to read/write
    Impact:
    - Anyone can delete or modify data
    - No user-specific data isolation
    - Security risk for production
    Possible Solutions:
    - Implement Firebase Authentication (email, Google, etc.)
    - Update Firestore rules to require auth
    - Add user ID to document paths
    - Consider anonymous auth for simple use case

12. NO DATA EXPORT FUNCTIONALITY
    Problem: Once visualized, can't export charts or processed data
    Impact:
    - User can't save charts for reports
    - No way to download filtered/aggregated data
    - Screenshots are the only option
    Possible Solutions:
    - Add "Download as PNG" button using canvas.toDataURL()
    - Add "Export to CSV" for filtered data
    - Add "Share link" with query parameters
    - Implement PDF export for reports

13. FIREBASE CONFIG EXPOSED IN CLIENT CODE
    Problem: Firebase config is in plain JavaScript on client side
    Impact:
    - API keys visible to anyone who views source
    - While Firebase rules protect data, keys can be quota-abused
    - Not a security issue per se, but looks unprofessional
    Possible Solutions:
    - This is actually normal/expected for Firebase web apps
    - Use Firestore rules as the real security layer (already done)
    - Monitor usage in Firebase console
    - Set up budget alerts in Google Cloud Console

14. NO HANDLING FOR MISSING/MALFORMED CSV DATA
    Problem: If CSV has inconsistent column counts, app may break
    Impact:
    - Rows with missing values create undefined entries
    - Extra commas in data cause misalignment
    - Quoted strings with commas may parse incorrectly
    Possible Solutions:
    - Use proper CSV parsing library (Papa Parse)
    - Add validation step showing data preview
    - Skip invalid rows with warning
    - Implement better CSV parsing with quote handling

15. CHART.JS CDN DEPENDENCY
    Problem: Relies on external CDN for Chart.js
    Impact:
    - If CDN is down, charts won't work
    - Offline usage impossible
    - Version could change unexpectedly
    Possible Solutions:
    - Download Chart.js and host locally
    - Use npm and bundler for production
    - Add fallback CDN URLs
    - Implement offline mode with service worker

PRIORITY RANKING
================
CRITICAL (Fix before demo):
- Issue #4: CORS / web server requirement
- Issue #1: Configure Firebase properly
- Issue #13: Add your Firebase config

HIGH (Should fix):
- Issue #14: Better CSV parsing (use Papa Parse library)
- Issue #7: Data validation before chart generation
- Issue #3: Pie chart binning for numeric data

MEDIUM (Nice to have):
- Issue #6: Responsive chart sizing
- Issue #10: Accessible colors
- Issue #12: Export functionality

LOW (Future improvements):
- Issue #11: Authentication
- Issue #5: Quota management
- Issue #8: Large file handling
- Issue #15: CDN dependencies

NOTES
=====
- Many of these are "polish" issues, not blockers
- The core functionality is solid and meets assignment requirements
- Assignment is for educational purposes, so dev-mode Firebase rules are acceptable
- GitHub Pages deployment will solve CORS issues automatically
- Consider which features add the most value for your use case
